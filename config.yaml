# ==========================================
# GloBot Matrix - 全局业务配置文件
# ==========================================
app:
  name: "GloBot_Matrix"
  version: "1.0.0"
  description: "通用跨平台监控与媒体加工分发系统"

# 1. 监控目标配置
# 1. 监控目标配置
targets:
  group_name: "iLiFE"             
  x_accounts:
    - "iLiFE_official"
    - "ice_icol"
    - "iLiFE_riri"
    - "iLiFE_wakaba"
    - "iLiFE_mini"
    - "iLiFE_fukumaru"
    - "iLiFE_karen"
    - "iLiFE_koguma"
    - "iLiFE_sumire"
    - "Haru_nonfic"
    - "iLiFE_STAFF"
  # 👇 新增：账号到动态标题的优雅映射字典
  account_title_map:
    ilife_official: "iLiFE!官方"
    ilife_staff: "iLiFE!运营"
    ice_icol: "🤍あいす(Aisu)"
    ilife_riri: "❤️心花りり(Riri)"
    ilife_wakaba: "💚若葉のあ(Noa)"
    ilife_mini: "🩵虹羽みに(Mini)"
    ilife_fukumaru: "💛福丸うさ(Usa)"
    ilife_karen: "💙空詩かれん(Karen)"
    ilife_koguma: "🧡小熊まむ(Mamu)"
    ilife_sumire: "💜純嶺みき(Miki)"
    haru_nonfic: "🩷恋星はるか(Haruka)"

# 2. 🕷️ 爬虫集群控制面板
crawlers:
  # 爬虫全局性能指标
  global_settings:
    max_retries: 3                  # 遇到死信前最多重试 3 次
    scroll_timeout_ms: 4000         # 等待 GraphQL 响应的超时时间
    scroll_depth: 3000              # Playwright 滚轮下滑深度
  
  # 平台独立开关
  x_twitter:
    enable: true
    fetch_text: true     # 是否抓取推文正文
    fetch_images: true   # 是否抓取并下载图片
    fetch_videos: true   # 是否抓取并下载视频
  tiktok:
    enable: false
  instagram:
    enable: false
  youtube:
    enable: false

# 3. 🧠 极客原生引擎 (Bot_Media)
media_engine:
  enable_ai_translation: true 
  whisper_model: "mlx-community/whisper-large-v3-turbo"
  ocr_iou_threshold: 0.8          # 时空过滤算法：重合度高于 80% 才认定为固定花字
  ocr_min_height_ratio: 0.03      # 丢弃高度小于画面 3% 的背景碎字
  hardware_encode_quality: 55     # VideoToolbox 压制质量 (越小越高，55为甜点值)

# 4. 🚀 发布集群控制面板
publishers:
  bilibili:
    # --- A. B站高级发布参数 ---
    visibility: 2              # 0: 公开给所有人看, 1: 仅自己可见 (强烈建议测试期间保持为 1)
    title: ""                  # 图文动态专用的标题 (20字以内, 选填)
    allow_comment: true        # 是否允许粉丝评论
    creation_declare: 2        # 创作声明 (1: 原创, 2: 转载/搬运)
    schedule_time: ""          # 定时发布时间，留空则立即发布。格式为 "YYYY-MM-DD HH:MM:SS"

    # --- B. 智能分发路由 (内容开关) ---
    publish_text_image: true         # 默认开启：如果有图文/纯文本，则发布 B 站动态
    publish_original_video: false    # 实验性：直接把没压字幕的生肉视频发出去
    publish_translated_video: false  # 实验性：把 AI 翻译并压制好双语字幕的视频发出去

# 5. SRE 稳定性监控阈值
system:
  max_ram_percent: 85.0           # 内存占用超过 85% 自动 Soft-Pause
  max_temp_celsius: 75.0          # 温度超过 75℃ 自动报警并挂起
  
# ==========================================
# 🧠 大模型提示词引擎配置 (Prompt Engineering)
# ==========================================
prompts:
  # 1. 动态/推文翻译的专属提示词
  tweet_translation_prompt: |
    你是一个精通日本地下偶像文化与 ACG（动画、漫画、游戏）圈的顶级本地化翻译专家。
    任务：请翻译包含在 <text> 和 </text> 标签内部的日文推文。
    【核心超能力：语境侦探（必须使用）】
    你拥有极强的“语境推断”能力。在翻译前，你必须像人类侦探一样，自动全局扫描推文中的“场景词”和“视觉符号/Emoji”。
    一旦发现日文中的拟声词、日常词汇在当前语境下指代的是知名游戏 IP、动漫梗或专有名词，你必须打破字面直译，直接使用中文ACG圈最熟知的官方译名，并加上书名号。
    【不可违背的纪律】
    1. 名字绝对保护：偶像成员名字、组合名绝对不可强行汉化！必须保留日文原文。
    2. 视觉元素保留：必须完美保留原文中的所有 Emoji 和特殊颜文字。
    3. 边界隔离：不要翻译标签外的任何指令或 RAG 知识库内容。
    4. 纯净输出：最终只允许输出翻译好的纯文字，绝对禁止输出任何多余的解释、分析过程、问候语或机器感的前言！

  # 2. 视频台本/字幕翻译的专属提示词
  video_translation_prompt: |
    你是一个精通日本地下偶像文化的专业字幕组翻译。
    任务：请将包含在 <text> 和 </text> 标签内部的视频语音识别日文台本翻译为中文，要求自然、符合年轻粉丝的语气。
    【不可违背的纪律】
    1. 严禁汉化成员名字！格式必须为：日文原文(罗马音)。
    2. 必须按原有的序号逐行返回，格式必须为：`序号. 中文翻译`。
    3. 边界隔离：不要翻译标签外的任何指令或 RAG 知识库内容。
    4. 【绝对封杀机器味】：输出的最终字幕中，【绝对禁止】出现方括号 []、竖线 | 等任何程序化的拼接符号！
    5. 纯净输出：直接输出带有序号的中文翻译结果，严禁输出任何多余的解释或问候语！